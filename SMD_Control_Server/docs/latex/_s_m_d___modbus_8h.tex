\hypertarget{_s_m_d___modbus_8h}{}\section{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Modbus.h File Reference}
\label{_s_m_d___modbus_8h}\index{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Modbus.\+h@{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Modbus.\+h}}


S\+M\+D wrapper functions for S\+M\+D Modbus/\+T\+C\+P communications.  


{\ttfamily \#include \char`\"{}S\+M\+D\+\_\+\+Constants.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___modbus_8h_a8e056f8cd49f09006796f4c05cb7fe08}{send\+\_\+modbus\+\_\+command} (const int $\ast$registers, const int $\ast$values, const int num\+\_\+registers, const char $\ast$command\+\_\+name)
\begin{DoxyCompactList}\small\item\em Sends a Modbus/\+T\+C\+P command to the S\+M\+D drive. Handles all of the overhead, such as threading, etc. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___modbus_8h_a6761a917f48aad804f7831de6f5fe6bb}{read\+\_\+modbus\+\_\+registers} (char registers\mbox{[}$\,$\mbox{]}\mbox{[}\hyperlink{_s_m_d___constants_8h_aeafcfd071f8910ebff3416598db693cd}{I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E}\mbox{]}, const int registers\+\_\+count, const \hyperlink{_s_m_d___constants_8h_a2c9bb35de755ab4eeebd9785d227dbd6}{S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E} reg\+\_\+read\+\_\+type, const int cl)
\begin{DoxyCompactList}\small\item\em Reads input registers from the drive so that the drive status and configuration can be formatted to send to the client (reads the first 10 registers (0-\/10) \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___modbus_8h_a7b9288a40707287f7e83879946c1803d}{return\+\_\+modbus\+\_\+registers} (char registers\mbox{[}$\,$\mbox{]}\mbox{[}\hyperlink{_s_m_d___constants_8h_aeafcfd071f8910ebff3416598db693cd}{I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E}\mbox{]}, const int registers\+\_\+count, const \hyperlink{_s_m_d___constants_8h_a2c9bb35de755ab4eeebd9785d227dbd6}{S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E} reg\+\_\+read\+\_\+type, const int cl, char $\ast$registers\+\_\+string, int registers\+\_\+string\+\_\+buf\+\_\+size)
\begin{DoxyCompactList}\small\item\em Reads input registers from the drive so that the drive status and configuration can be formatted to send to the client (reads the first 10 registers (0-\/10). Also returns the input registers string to registers\+\_\+string. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\+M\+D wrapper functions for S\+M\+D Modbus/\+T\+C\+P communications. 

\begin{DoxyAuthor}{Author}
John Davis \href{mailto:jd@pauldavisautomation.com}{\tt jd@pauldavisautomation.\+com} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
September 30, 2015 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{_s_m_d___modbus_8h_a6761a917f48aad804f7831de6f5fe6bb}{}\index{S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}!read\+\_\+modbus\+\_\+registers@{read\+\_\+modbus\+\_\+registers}}
\index{read\+\_\+modbus\+\_\+registers@{read\+\_\+modbus\+\_\+registers}!S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}}
\subsubsection[{read\+\_\+modbus\+\_\+registers(char registers[][I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E], const int registers\+\_\+count, const S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E reg\+\_\+read\+\_\+type, const int cl)}]{\setlength{\rightskip}{0pt plus 5cm}read\+\_\+modbus\+\_\+registers (
\begin{DoxyParamCaption}
\item[{char}]{registers\mbox{[}$\,$\mbox{]}\mbox{[}\+I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E\mbox{]}, }
\item[{const int}]{registers\+\_\+count, }
\item[{const {\bf S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E}}]{reg\+\_\+read\+\_\+type, }
\item[{const int}]{cl}
\end{DoxyParamCaption}
)}\label{_s_m_d___modbus_8h_a6761a917f48aad804f7831de6f5fe6bb}


Reads input registers from the drive so that the drive status and configuration can be formatted to send to the client (reads the first 10 registers (0-\/10) 


\begin{DoxyParams}{Parameters}
{\em registers} & 2\+D array that must be size 10 that will contain string values of the individual input registers \\
\hline
{\em registers\+\_\+count} & Size of registers \\
\hline
{\em reg\+\_\+read\+\_\+type} & Specify how the client return string will be formatted (input registers (,,) or configuration (\#\#\#) \\
\hline
{\em cl} & Socket handle for client that is to be written the return string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S 
\end{DoxyReturn}
\hypertarget{_s_m_d___modbus_8h_a7b9288a40707287f7e83879946c1803d}{}\index{S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}!return\+\_\+modbus\+\_\+registers@{return\+\_\+modbus\+\_\+registers}}
\index{return\+\_\+modbus\+\_\+registers@{return\+\_\+modbus\+\_\+registers}!S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}}
\subsubsection[{return\+\_\+modbus\+\_\+registers(char registers[][I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E], const int registers\+\_\+count, const S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E reg\+\_\+read\+\_\+type, const int cl, char $\ast$registers\+\_\+string, int registers\+\_\+string\+\_\+buf\+\_\+size)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} return\+\_\+modbus\+\_\+registers (
\begin{DoxyParamCaption}
\item[{char}]{registers\mbox{[}$\,$\mbox{]}\mbox{[}\+I\+N\+P\+U\+T\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+S\+I\+Z\+E\mbox{]}, }
\item[{const int}]{registers\+\_\+count, }
\item[{const {\bf S\+M\+D\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+R\+E\+A\+D\+\_\+\+T\+Y\+P\+E}}]{reg\+\_\+read\+\_\+type, }
\item[{const int}]{cl, }
\item[{char $\ast$}]{registers\+\_\+string, }
\item[{int}]{registers\+\_\+string\+\_\+buf\+\_\+size}
\end{DoxyParamCaption}
)}\label{_s_m_d___modbus_8h_a7b9288a40707287f7e83879946c1803d}


Reads input registers from the drive so that the drive status and configuration can be formatted to send to the client (reads the first 10 registers (0-\/10). Also returns the input registers string to registers\+\_\+string. 


\begin{DoxyParams}{Parameters}
{\em registers} & 2\+D array that must be size 10 that will contain string values of the individual input registers \\
\hline
{\em registers\+\_\+count} & Size of registers \\
\hline
{\em reg\+\_\+read\+\_\+type} & Specify how the client return string will be formatted (input registers (,,) or configuration (\#\#\#) \\
\hline
{\em cl} & Socket handle for client that is to be written the return string \\
\hline
{\em registers\+\_\+string} & String showing retrieved input registers values \\
\hline
{\em registers\+\_\+string\+\_\+buf\+\_\+size} & Size of registers\+\_\+string buffer. M\+U\+S\+T B\+E A\+T L\+E\+A\+S\+T 128. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S 
\end{DoxyReturn}
\hypertarget{_s_m_d___modbus_8h_a8e056f8cd49f09006796f4c05cb7fe08}{}\index{S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}!send\+\_\+modbus\+\_\+command@{send\+\_\+modbus\+\_\+command}}
\index{send\+\_\+modbus\+\_\+command@{send\+\_\+modbus\+\_\+command}!S\+M\+D\+\_\+\+Modbus.\+h@{S\+M\+D\+\_\+\+Modbus.\+h}}
\subsubsection[{send\+\_\+modbus\+\_\+command(const int $\ast$registers, const int $\ast$values, const int num\+\_\+registers, const char $\ast$command\+\_\+name)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} send\+\_\+modbus\+\_\+command (
\begin{DoxyParamCaption}
\item[{const int $\ast$}]{registers, }
\item[{const int $\ast$}]{values, }
\item[{const int}]{num\+\_\+registers, }
\item[{const char $\ast$}]{command\+\_\+name}
\end{DoxyParamCaption}
)}\label{_s_m_d___modbus_8h_a8e056f8cd49f09006796f4c05cb7fe08}


Sends a Modbus/\+T\+C\+P command to the S\+M\+D drive. Handles all of the overhead, such as threading, etc. 


\begin{DoxyParams}{Parameters}
{\em registers} & Array (int) that contains the registers to be written to \\
\hline
{\em values} & Array (int) of the values that are meant to go in int $\ast$registers \\
\hline
{\em num\+\_\+registers} & int describing how many registers are going to be sent (the length of registers) \\
\hline
{\em command\+\_\+name} & String specifying the English name of the command. This is used for logging purposes (you can put anything here) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S 
\end{DoxyReturn}
