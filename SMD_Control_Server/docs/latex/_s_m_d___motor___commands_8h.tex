\hypertarget{_s_m_d___motor___commands_8h}{}\section{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.h File Reference}
\label{_s_m_d___motor___commands_8h}\index{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{/\+Users/davisjp/\+Development/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/\+S\+M\+D\+\_\+\+Control\+\_\+\+Server/src/\+S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}


Motor commands for controlling and configuring an A\+M\+C\+I S\+M\+D series drive.  


{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include \char`\"{}S\+M\+D\+\_\+\+Constants.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a8ee0593a39448cff86cef08f4c211ed2}{S\+M\+D\+\_\+open\+\_\+command\+\_\+connection} ()
\begin{DoxyCompactList}\small\item\em Attempts to open the control connection with the S\+M\+D. This connection stays open until \hyperlink{_s_m_d___motor___commands_8h_abfee7626a8806bfadcd627e502172e74}{S\+M\+D\+\_\+close\+\_\+command\+\_\+connection()} is called. If the connection is lost, all motion stops immediately. \end{DoxyCompactList}\item 
\hypertarget{_s_m_d___motor___commands_8h_abfee7626a8806bfadcd627e502172e74}{}void \hyperlink{_s_m_d___motor___commands_8h_abfee7626a8806bfadcd627e502172e74}{S\+M\+D\+\_\+close\+\_\+command\+\_\+connection} ()\label{_s_m_d___motor___commands_8h_abfee7626a8806bfadcd627e502172e74}

\begin{DoxyCompactList}\small\item\em Attempts to close the control connection with the S\+M\+D. When the connection is lost, all motion stops immediately. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a92657c358dcefcf62050656d01b7df02}{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers} (int cl)
\begin{DoxyCompactList}\small\item\em Reads the input registers, and outputs them in the format \char`\"{},,0x0,0x0,0,0,0,0,0,0,0,0\char`\"{}. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_ae7bcee012af784903fc9d53b9b689396}{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration} (int cl)
\begin{DoxyCompactList}\small\item\em Called prior to calling \hyperlink{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration(int cl)}. Tells the drive to read the current configuration and place it into the input registers. This will return R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+N\+F\+I\+G to the client, which S\+H\+O\+U\+L\+D then read the input registers once to get the configuration. This is a bit of a testy function, and care should be taken to make sure that multiple operations are not being written to the drive at the time of issuing this command. This command W\+I\+L\+L stop motion and disable the drive. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration} (int cl)
\begin{DoxyCompactList}\small\item\em Called after \hyperlink{_s_m_d___motor___commands_8h_ae7bcee012af784903fc9d53b9b689396}{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration(int cl)} Reads the input registers, and outputs them in the format \char`\"{}\#\#\#0x0,0x0,0,0,0,0,0,0,0,0\char`\"{} This is a three step process\+: Step 1 -\/ Write the current configuration into the input registers (this puts the drive into configuration mode) Step 2 -\/ Tell the client that the registers are ready to be read Step 3 -\/ The client will then make a single call to read\+\_\+input\+\_\+registers to parse the configuration. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a9b9012bc4894621256e6ae61330b7aa6}{S\+M\+D\+\_\+set\+\_\+configuration} (int32\+\_\+t control\+\_\+word, int32\+\_\+t config\+\_\+word, int32\+\_\+t starting\+\_\+speed, int16\+\_\+t steps\+\_\+per\+\_\+turn, int16\+\_\+t enc\+\_\+pulses\+\_\+per\+\_\+turn, int16\+\_\+t idle\+\_\+current\+\_\+percentage, int16\+\_\+t motor\+\_\+current)
\begin{DoxyCompactList}\small\item\em Loads configuration into drive memory. This does not write the configuration to permanent memory -\/ configuration will need to be reloaded if power is lost. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a37d9188e51fb12a0c1ea3c96b344680e}{S\+M\+D\+\_\+jog} (int direction, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk, int32\+\_\+t speed)
\begin{DoxyCompactList}\small\item\em Tells the motor to jog. Stop the motor using either \hyperlink{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{S\+M\+D\+\_\+immed\+\_\+stop()} or \hyperlink{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{S\+M\+D\+\_\+hold\+\_\+move()} \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_ad1d6841b70ddef16c077213f317682d9}{S\+M\+D\+\_\+relative\+\_\+move} (int32\+\_\+t rel\+\_\+pos, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk, int32\+\_\+t speed)
\begin{DoxyCompactList}\small\item\em Tells the motor to do a relative move. Stop the motor using either \hyperlink{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{S\+M\+D\+\_\+immed\+\_\+stop()} or \hyperlink{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{S\+M\+D\+\_\+hold\+\_\+move()} \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a1f74c2fa06627d4d0748413acb18cbfb}{S\+M\+D\+\_\+drive\+\_\+enable} ()
\begin{DoxyCompactList}\small\item\em Enables the drive circuitry, applying current to the motor. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_abe8692cec28fb4b20f946c37e2b31fcf}{S\+M\+D\+\_\+drive\+\_\+disable} ()
\begin{DoxyCompactList}\small\item\em Disables the drive circuitry, removing current from the motor. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_ae998007dabf0ceb0947621bdbe62e238}{S\+M\+D\+\_\+reset\+\_\+errors} ()
\begin{DoxyCompactList}\small\item\em Resets drive errors. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{S\+M\+D\+\_\+immed\+\_\+stop} ()
\begin{DoxyCompactList}\small\item\em Immediately stops movement, with no deceleration. This W\+I\+L\+L set an error state in the drive, and the motor will need to be re-\/homed. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{S\+M\+D\+\_\+hold\+\_\+move} ()
\begin{DoxyCompactList}\small\item\em Stops movement with a controlled deceleration. No error state is set. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a34a52447f96850923649fa2a92adf9c7}{S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position} (int32\+\_\+t pos)
\begin{DoxyCompactList}\small\item\em Presets the encoder to the value specified in pos. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_ae0ea877b4e6fc3b0632c8ba845f6b187}{S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position} (int32\+\_\+t pos)
\begin{DoxyCompactList}\small\item\em Presets the motor to the value specified in pos. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a4cc87973bce39dcf87c4aecaea1dafed}{S\+M\+D\+\_\+find\+\_\+home} (int direction, int32\+\_\+t speed, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk)
\begin{DoxyCompactList}\small\item\em Tells the drive to perform the built-\/in homing function. This function is outlined in the motor user manual. \end{DoxyCompactList}\item 
\hypertarget{_s_m_d___motor___commands_8h_acf25124af1129435bda5e55975a21414}{}\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_acf25124af1129435bda5e55975a21414}{S\+M\+D\+\_\+program\+\_\+assembled\+\_\+move} (int cl)\label{_s_m_d___motor___commands_8h_acf25124af1129435bda5e55975a21414}

\begin{DoxyCompactList}\small\item\em Tells the drive to get ready to accept the J\+S\+O\+N describing an assembled move. Upon success, this will write S\+E\+N\+D\+\_\+\+A\+S\+S\+E\+M\+B\+L\+E\+D\+\_\+\+M\+O\+V\+E\+\_\+\+P\+A\+R\+A\+M\+E\+T\+E\+R\+S to the client. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_afc409480e505813928f6cf0710d02982}{S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move} (const char $\ast$json\+\_\+string, int cl)
\begin{DoxyCompactList}\small\item\em When S\+M\+D\+\_\+program\+\_\+assembled\+\_\+move is called, the next command to the host {\itshape must} be a valid J\+S\+O\+N string describing the move. This string cannot contain more than 16 moves. Once the moves are programmed, the drive will be put back into a normal state, and run\+\_\+assembled\+\_\+move may be called. J\+S\+O\+N follows format\+: \{\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:1500,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:-\/5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:2000,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\}, \char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:segment,\char`\"{}programmed\+\_\+speed\char`\"{}\+:2500,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:-\/5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:3000,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}type\char`\"{}\+:\char`\"{}dwell\char`\"{}\}. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_aa808850778fc3e42a125ca568452b2a3}{S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move} (int16\+\_\+t blend\+\_\+move\+\_\+direction, int32\+\_\+t dwell\+\_\+time, \hyperlink{_s_m_d___constants_8h_aa01cdf128324b19daf909259ac276745}{S\+M\+D\+\_\+\+A\+S\+S\+E\+M\+B\+L\+E\+D\+\_\+\+M\+O\+V\+E\+\_\+\+T\+Y\+P\+E} move\+\_\+type)
\begin{DoxyCompactList}\small\item\em Runs the current assembled move that is in memory. \end{DoxyCompactList}\item 
\hyperlink{_s_m_d___constants_8h_ab55865c9c0ae991977b044752dd26f74}{S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} \hyperlink{_s_m_d___motor___commands_8h_a4ec71c8a5b01db1b24a4a53e3c6a0ed2}{S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode} ()
\begin{DoxyCompactList}\small\item\em Sets the state of this host controller to manual. In this mode, the only command that will be accepted from the client is \char`\"{}stop\+Manual\+Mode\char`\"{}. This mode looks for input from A\+N\+A\+L\+O\+G\+\_\+\+V\+A\+L\+\_\+\+F\+I\+L\+E\+\_\+\+P\+A\+T\+H and D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+V\+A\+L\+\_\+\+F\+I\+L\+E\+\_\+\+P\+A\+T\+H, and tells the drive to move accordingly. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Motor commands for controlling and configuring an A\+M\+C\+I S\+M\+D series drive. 

\begin{DoxyAuthor}{Author}
John Davis \href{mailto:jd@pauldavisautomation.com}{\tt jd@pauldavisautomation.\+com} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
September 30, 2015 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{_s_m_d___motor___commands_8h_abe8692cec28fb4b20f946c37e2b31fcf}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+drive\+\_\+disable@{S\+M\+D\+\_\+drive\+\_\+disable}}
\index{S\+M\+D\+\_\+drive\+\_\+disable@{S\+M\+D\+\_\+drive\+\_\+disable}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+drive\+\_\+disable()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+drive\+\_\+disable (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_abe8692cec28fb4b20f946c37e2b31fcf}


Disables the drive circuitry, removing current from the motor. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a1f74c2fa06627d4d0748413acb18cbfb}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+drive\+\_\+enable@{S\+M\+D\+\_\+drive\+\_\+enable}}
\index{S\+M\+D\+\_\+drive\+\_\+enable@{S\+M\+D\+\_\+drive\+\_\+enable}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+drive\+\_\+enable()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+drive\+\_\+enable (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a1f74c2fa06627d4d0748413acb18cbfb}


Enables the drive circuitry, applying current to the motor. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a4cc87973bce39dcf87c4aecaea1dafed}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+find\+\_\+home@{S\+M\+D\+\_\+find\+\_\+home}}
\index{S\+M\+D\+\_\+find\+\_\+home@{S\+M\+D\+\_\+find\+\_\+home}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+find\+\_\+home(int direction, int32\+\_\+t speed, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+find\+\_\+home (
\begin{DoxyParamCaption}
\item[{int}]{direction, }
\item[{int32\+\_\+t}]{speed, }
\item[{int16\+\_\+t}]{accel, }
\item[{int16\+\_\+t}]{decel, }
\item[{int16\+\_\+t}]{jerk}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a4cc87973bce39dcf87c4aecaea1dafed}


Tells the drive to perform the built-\/in homing function. This function is outlined in the motor user manual. 


\begin{DoxyParams}{Parameters}
{\em direction} & 0 for C\+W, 1 for C\+C\+W \\
\hline
{\em accel} & Acceleration, 1-\/5000 \\
\hline
{\em decel} & Deceleration, 1-\/5000 \\
\hline
{\em jerk} & Acceleration jerk, 1-\/5000 \\
\hline
{\em speed} & Speed Motor Starting Speed-\/2,999,999 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+hold\+\_\+move@{S\+M\+D\+\_\+hold\+\_\+move}}
\index{S\+M\+D\+\_\+hold\+\_\+move@{S\+M\+D\+\_\+hold\+\_\+move}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+hold\+\_\+move()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+hold\+\_\+move (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}


Stops movement with a controlled deceleration. No error state is set. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+immed\+\_\+stop@{S\+M\+D\+\_\+immed\+\_\+stop}}
\index{S\+M\+D\+\_\+immed\+\_\+stop@{S\+M\+D\+\_\+immed\+\_\+stop}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+immed\+\_\+stop()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+immed\+\_\+stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}


Immediately stops movement, with no deceleration. This W\+I\+L\+L set an error state in the drive, and the motor will need to be re-\/homed. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a37d9188e51fb12a0c1ea3c96b344680e}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+jog@{S\+M\+D\+\_\+jog}}
\index{S\+M\+D\+\_\+jog@{S\+M\+D\+\_\+jog}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+jog(int direction, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk, int32\+\_\+t speed)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+jog (
\begin{DoxyParamCaption}
\item[{int}]{direction, }
\item[{int16\+\_\+t}]{accel, }
\item[{int16\+\_\+t}]{decel, }
\item[{int16\+\_\+t}]{jerk, }
\item[{int32\+\_\+t}]{speed}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a37d9188e51fb12a0c1ea3c96b344680e}


Tells the motor to jog. Stop the motor using either \hyperlink{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{S\+M\+D\+\_\+immed\+\_\+stop()} or \hyperlink{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{S\+M\+D\+\_\+hold\+\_\+move()} 


\begin{DoxyParams}{Parameters}
{\em direction} & 0 for C\+W, 1 for C\+C\+W \\
\hline
{\em accel} & Acceleration, 1-\/5000 \\
\hline
{\em decel} & Deceleration, 1-\/5000 \\
\hline
{\em jerk} & Acceleration jerk, 1-\/5000 \\
\hline
{\em speed} & Motor Starting Speed-\/2,999,999 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+R\+A\+M\+E\+T\+E\+R if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_ae7bcee012af784903fc9d53b9b689396}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration@{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration}}
\index{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration@{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration(int cl)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{int}]{cl}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_ae7bcee012af784903fc9d53b9b689396}


Called prior to calling \hyperlink{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration(int cl)}. Tells the drive to read the current configuration and place it into the input registers. This will return R\+E\+A\+D\+Y\+\_\+\+T\+O\+\_\+\+R\+E\+A\+D\+\_\+\+C\+O\+N\+F\+I\+G to the client, which S\+H\+O\+U\+L\+D then read the input registers once to get the configuration. This is a bit of a testy function, and care should be taken to make sure that multiple operations are not being written to the drive at the time of issuing this command. This command W\+I\+L\+L stop motion and disable the drive. 


\begin{DoxyParams}{Parameters}
{\em cl} & The client to write the message to (a socket identifer) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+E\+D if the registers cannot be read 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Call before calling \hyperlink{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration(int cl)} 
\end{DoxyNote}
\hypertarget{_s_m_d___motor___commands_8h_a8ee0593a39448cff86cef08f4c211ed2}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+open\+\_\+command\+\_\+connection@{S\+M\+D\+\_\+open\+\_\+command\+\_\+connection}}
\index{S\+M\+D\+\_\+open\+\_\+command\+\_\+connection@{S\+M\+D\+\_\+open\+\_\+command\+\_\+connection}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+open\+\_\+command\+\_\+connection()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+open\+\_\+command\+\_\+connection (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a8ee0593a39448cff86cef08f4c211ed2}


Attempts to open the control connection with the S\+M\+D. This connection stays open until \hyperlink{_s_m_d___motor___commands_8h_abfee7626a8806bfadcd627e502172e74}{S\+M\+D\+\_\+close\+\_\+command\+\_\+connection()} is called. If the connection is lost, all motion stops immediately. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+E\+R\+R\+O\+R if something goes horribly wrong 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_afc409480e505813928f6cf0710d02982}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move@{S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move}}
\index{S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move@{S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move(const char $\ast$json\+\_\+string, int cl)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} S\+M\+D\+\_\+parse\+\_\+and\+\_\+upload\+\_\+assembled\+\_\+move (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{json\+\_\+string, }
\item[{int}]{cl}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_afc409480e505813928f6cf0710d02982}


When S\+M\+D\+\_\+program\+\_\+assembled\+\_\+move is called, the next command to the host {\itshape must} be a valid J\+S\+O\+N string describing the move. This string cannot contain more than 16 moves. Once the moves are programmed, the drive will be put back into a normal state, and run\+\_\+assembled\+\_\+move may be called. J\+S\+O\+N follows format\+: \{\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:1500,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:-\/5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:2000,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\}, \char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:segment,\char`\"{}programmed\+\_\+speed\char`\"{}\+:2500,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}segment\char`\"{}\+:\{\char`\"{}target\+\_\+pos\+\_\+inches\char`\"{}\+:-\/5,\char`\"{}programmed\+\_\+speed\char`\"{}\+:3000,\char`\"{}accel\char`\"{}\+:150,\char`\"{}decel\char`\"{}\+:150,\char`\"{}jerk\char`\"{}\+:0\},\char`\"{}type\char`\"{}\+:\char`\"{}dwell\char`\"{}\}. 


\begin{DoxyParams}{Parameters}
{\em json\+\_\+string} & Properly formatted J\+S\+O\+N string \\
\hline
{\em cl} & Valid socket handle for connected client \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S 

S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a34a52447f96850923649fa2a92adf9c7}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position@{S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position}}
\index{S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position@{S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position(int32\+\_\+t pos)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+preset\+\_\+encoder\+\_\+position (
\begin{DoxyParamCaption}
\item[{int32\+\_\+t}]{pos}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a34a52447f96850923649fa2a92adf9c7}


Presets the encoder to the value specified in pos. 


\begin{DoxyParams}{Parameters}
{\em pos} & Position, in counts. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_ae0ea877b4e6fc3b0632c8ba845f6b187}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position@{S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position}}
\index{S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position@{S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position(int32\+\_\+t pos)}]{\setlength{\rightskip}{0pt plus 5cm}int int S\+M\+D\+\_\+preset\+\_\+motor\+\_\+position (
\begin{DoxyParamCaption}
\item[{int32\+\_\+t}]{pos}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_ae0ea877b4e6fc3b0632c8ba845f6b187}


Presets the motor to the value specified in pos. 


\begin{DoxyParams}{Parameters}
{\em pos} & Position, in counts. -\/8,388,607 to 8,388,607 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration@{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration}}
\index{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration@{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration(int cl)}]{\setlength{\rightskip}{0pt plus 5cm}S\+M\+D\+\_\+read\+\_\+current\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{int}]{cl}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a139d3981c9ab0ef415c1a59b3825d53b}


Called after \hyperlink{_s_m_d___motor___commands_8h_ae7bcee012af784903fc9d53b9b689396}{S\+M\+D\+\_\+load\+\_\+current\+\_\+configuration(int cl)} Reads the input registers, and outputs them in the format \char`\"{}\#\#\#0x0,0x0,0,0,0,0,0,0,0,0\char`\"{} This is a three step process\+: Step 1 -\/ Write the current configuration into the input registers (this puts the drive into configuration mode) Step 2 -\/ Tell the client that the registers are ready to be read Step 3 -\/ The client will then make a single call to read\+\_\+input\+\_\+registers to parse the configuration. 


\begin{DoxyParams}{Parameters}
{\em cl} & The client to write the message to (a socket identifer) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Must call \hyperlink{_s_m_d___motor___commands_8h_a92657c358dcefcf62050656d01b7df02}{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers(int cl)} before calling this function. 
\end{DoxyWarning}
\hypertarget{_s_m_d___motor___commands_8h_a92657c358dcefcf62050656d01b7df02}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+read\+\_\+input\+\_\+registers@{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers}}
\index{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers@{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+read\+\_\+input\+\_\+registers(int cl)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+read\+\_\+input\+\_\+registers (
\begin{DoxyParamCaption}
\item[{int}]{cl}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a92657c358dcefcf62050656d01b7df02}


Reads the input registers, and outputs them in the format \char`\"{},,0x0,0x0,0,0,0,0,0,0,0,0\char`\"{}. 


\begin{DoxyParams}{Parameters}
{\em cl} & The client to write the message to (a socket identifer) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if successful 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_ad1d6841b70ddef16c077213f317682d9}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+relative\+\_\+move@{S\+M\+D\+\_\+relative\+\_\+move}}
\index{S\+M\+D\+\_\+relative\+\_\+move@{S\+M\+D\+\_\+relative\+\_\+move}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+relative\+\_\+move(int32\+\_\+t rel\+\_\+pos, int16\+\_\+t accel, int16\+\_\+t decel, int16\+\_\+t jerk, int32\+\_\+t speed)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+relative\+\_\+move (
\begin{DoxyParamCaption}
\item[{int32\+\_\+t}]{rel\+\_\+pos, }
\item[{int16\+\_\+t}]{accel, }
\item[{int16\+\_\+t}]{decel, }
\item[{int16\+\_\+t}]{jerk, }
\item[{int32\+\_\+t}]{speed}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_ad1d6841b70ddef16c077213f317682d9}


Tells the motor to do a relative move. Stop the motor using either \hyperlink{_s_m_d___motor___commands_8h_a7106a0b31660e4e4f853fdd94d37022a}{S\+M\+D\+\_\+immed\+\_\+stop()} or \hyperlink{_s_m_d___motor___commands_8h_a078ca6bb4162f465ccaa0e1ffa0182eb}{S\+M\+D\+\_\+hold\+\_\+move()} 


\begin{DoxyParams}{Parameters}
{\em rel\+\_\+pos} & 0 How many counts to move, relative to the current position (drive does N\+O\+T need to be homed). -\/8,388,607 to 8,388,607 \\
\hline
{\em accel} & Acceleration 1-\/5000 \\
\hline
{\em decel} & Deceleration 1-\/5000 \\
\hline
{\em jerk} & Acceleration jerk 1-\/5000 \\
\hline
{\em speed} & Speed Motor Starting Speed-\/2,999,999 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_ae998007dabf0ceb0947621bdbe62e238}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+reset\+\_\+errors@{S\+M\+D\+\_\+reset\+\_\+errors}}
\index{S\+M\+D\+\_\+reset\+\_\+errors@{S\+M\+D\+\_\+reset\+\_\+errors}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+reset\+\_\+errors()}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+reset\+\_\+errors (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_ae998007dabf0ceb0947621bdbe62e238}


Resets drive errors. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_aa808850778fc3e42a125ca568452b2a3}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move@{S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move}}
\index{S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move@{S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move(int16\+\_\+t blend\+\_\+move\+\_\+direction, int32\+\_\+t dwell\+\_\+time, S\+M\+D\+\_\+\+A\+S\+S\+E\+M\+B\+L\+E\+D\+\_\+\+M\+O\+V\+E\+\_\+\+T\+Y\+P\+E move\+\_\+type)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} S\+M\+D\+\_\+run\+\_\+assembled\+\_\+move (
\begin{DoxyParamCaption}
\item[{int16\+\_\+t}]{blend\+\_\+move\+\_\+direction, }
\item[{int32\+\_\+t}]{dwell\+\_\+time, }
\item[{{\bf S\+M\+D\+\_\+\+A\+S\+S\+E\+M\+B\+L\+E\+D\+\_\+\+M\+O\+V\+E\+\_\+\+T\+Y\+P\+E}}]{move\+\_\+type}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_aa808850778fc3e42a125ca568452b2a3}


Runs the current assembled move that is in memory. 


\begin{DoxyParams}{Parameters}
{\em blend\+\_\+move\+\_\+direction} & 0 is C\+W, 1 is C\+C\+W \\
\hline
{\em dwell\+\_\+time} & Specified dwell time between segments, in milliseconds \\
\hline
{\em move\+\_\+type} & Specifies what type of assembled move we are doing \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a9b9012bc4894621256e6ae61330b7aa6}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+set\+\_\+configuration@{S\+M\+D\+\_\+set\+\_\+configuration}}
\index{S\+M\+D\+\_\+set\+\_\+configuration@{S\+M\+D\+\_\+set\+\_\+configuration}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+set\+\_\+configuration(int32\+\_\+t control\+\_\+word, int32\+\_\+t config\+\_\+word, int32\+\_\+t starting\+\_\+speed, int16\+\_\+t steps\+\_\+per\+\_\+turn, int16\+\_\+t enc\+\_\+pulses\+\_\+per\+\_\+turn, int16\+\_\+t idle\+\_\+current\+\_\+percentage, int16\+\_\+t motor\+\_\+current)}]{\setlength{\rightskip}{0pt plus 5cm}int S\+M\+D\+\_\+set\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{int32\+\_\+t}]{control\+\_\+word, }
\item[{int32\+\_\+t}]{config\+\_\+word, }
\item[{int32\+\_\+t}]{starting\+\_\+speed, }
\item[{int16\+\_\+t}]{steps\+\_\+per\+\_\+turn, }
\item[{int16\+\_\+t}]{enc\+\_\+pulses\+\_\+per\+\_\+turn, }
\item[{int16\+\_\+t}]{idle\+\_\+current\+\_\+percentage, }
\item[{int16\+\_\+t}]{motor\+\_\+current}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a9b9012bc4894621256e6ae61330b7aa6}


Loads configuration into drive memory. This does not write the configuration to permanent memory -\/ configuration will need to be reloaded if power is lost. 


\begin{DoxyParams}{Parameters}
{\em control\+\_\+word} & Control word as specified by the A\+M\+C\+I documentation \\
\hline
{\em config\+\_\+word} & Config word as specified by the A\+M\+C\+I documentation \\
\hline
{\em starting\+\_\+speed} & Value between 1 and 1,999,999 \\
\hline
{\em steps\+\_\+per\+\_\+turn} & Value between 200 and 32,767 \\
\hline
{\em enc\+\_\+pulses\+\_\+per\+\_\+turn} & Number of encoder pulses per turn \\
\hline
{\em idle\+\_\+current\+\_\+percentage} & 0 to 100 \\
\hline
{\em motor\+\_\+current} & Value 10-\/34, represents 1.\+0 to 3.\+4 Arms \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+N\+O\+\_\+\+R\+O\+U\+T\+E\+\_\+\+T\+O\+\_\+\+H\+O\+S\+T if failure 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+S\+A\+V\+E\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+S\+U\+C\+C\+E\+S\+S 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+S\+A\+V\+E\+\_\+\+C\+O\+N\+F\+I\+G\+\_\+\+F\+A\+I\+L\+U\+R\+E 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+P\+A\+R\+A\+M\+E\+T\+E\+R 
\end{DoxyReturn}
\hypertarget{_s_m_d___motor___commands_8h_a4ec71c8a5b01db1b24a4a53e3c6a0ed2}{}\index{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}!S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode@{S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode}}
\index{S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode@{S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode}!S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h@{S\+M\+D\+\_\+\+Motor\+\_\+\+Commands.\+h}}
\subsubsection[{S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode()}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S} S\+M\+D\+\_\+set\+\_\+manual\+\_\+mode (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{_s_m_d___motor___commands_8h_a4ec71c8a5b01db1b24a4a53e3c6a0ed2}


Sets the state of this host controller to manual. In this mode, the only command that will be accepted from the client is \char`\"{}stop\+Manual\+Mode\char`\"{}. This mode looks for input from A\+N\+A\+L\+O\+G\+\_\+\+V\+A\+L\+\_\+\+F\+I\+L\+E\+\_\+\+P\+A\+T\+H and D\+I\+R\+E\+C\+T\+I\+O\+N\+\_\+\+V\+A\+L\+\_\+\+F\+I\+L\+E\+\_\+\+P\+A\+T\+H, and tells the drive to move accordingly. 

\begin{DoxyReturn}{Returns}
S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+S\+U\+C\+C\+E\+S\+S if success 

S\+M\+D\+\_\+\+R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+C\+O\+D\+E\+S S\+M\+D\+\_\+\+R\+E\+T\+U\+R\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+A\+I\+L\+U\+R\+E if failure 
\end{DoxyReturn}
